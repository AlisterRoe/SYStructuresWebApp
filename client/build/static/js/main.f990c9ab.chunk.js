(this["webpackJsonpsy-structures-web-app"]=this["webpackJsonpsy-structures-web-app"]||[]).push([[0],{119:function(e,t){},120:function(e,t){},127:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(31),c=n.n(s),i=n(6),l=n.n(i),o=n(11),u=n(10),d=n(129),p=n(137),j=n(130),b=n(134),h=n(131),f=n(72),x=(n(86),f.a.initializeApp({apiKey:"AIzaSyAw4DJ6nlrv2x_ilJUwpswoef3hJ2AorIo",authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAw4DJ6nlrv2x_ilJUwpswoef3hJ2AorIo",REACT_APP_FIREBASE_APP_ID:"1:198812450568:web:4995488f56e887a48f36bd",REACT_APP_FIREBASE_AUTH_DOMAIN:"sy-auth-production-f970d.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"198812450568",REACT_APP_FIREBASE_PROJECT_ID:"sy-auth-production-f970d",REACT_APP_FIREBASE_STORAGE_BUCKET:"sy-auth-production-f970d.appspot.com",REACT_APP_GOOGLE_DRIVE_API_KEY:"AIzaSyCIcU7f2xGtPCRIcCsr4M0WPcyxBOalwSE",REACT_APP_GOOGLE_DRIVE_CLIENT_ID:"597531148432-gi46mddcc0uk1jipcddd8li3ue7ha0s2.apps.googleusercontent.com",REACT_APP_PROJECTWORKS_API_CONSUMER_KEY:"FWNhDQ2CytPDYva8h3oeh7hXwJSYV75bTEjGsQtCnQlZ8RUM8DNST4YmweZm0GuF",REACT_APP_PROJECTWORKS_API_CONSUMER_SECRET:"ZTczODIxOWItNWEyNy00MmMwLWI4MmYtZjhiOGFiNTY3MzMy"}).REACT_APP_FIREBASE_AUTH_DOMAI,projectId:"sy-auth-production-f970d",storageBucket:"sy-auth-production-f970d.appspot.com",messagingSenderId:"198812450568",appId:"1:198812450568:web:4995488f56e887a48f36bd"})),m=x.auth(),O=n(1),E=r.a.createContext();function v(){return Object(a.useContext)(E)}function g(e){var t=e.children,n=Object(a.useState)(),r=Object(u.a)(n,2),s=r[0],c=r[1],i=Object(a.useState)(!0),l=Object(u.a)(i,2),o=l[0],d=l[1];Object(a.useEffect)((function(){return m.onAuthStateChanged((function(e){c(e),d(!1)}))}),[]),m.onAuthStateChanged((function(e){c(e)}));var p={currentUser:s,login:function(e,t){return m.signInWithEmailAndPassword(e,t)},signup:function(e,t){return m.createUserWithEmailAndPassword(e,t)},logout:function(){return m.signOut()},resetPassword:function(e){return m.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)}};return Object(O.jsx)(E.Provider,{value:p,children:!o&&t})}var y=n(14),C=n(19);function N(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=v().signup,s=Object(a.useState)(""),c=Object(u.a)(s,2),i=c[0],f=c[1],x=Object(a.useState)(!1),m=Object(u.a)(x,2),E=m[0],g=m[1],N=Object(y.g)();function R(){return(R=Object(o.a)(l.a.mark((function a(s){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),t.current.value===n.current.value){a.next=3;break}return a.abrupt("return",f("Passwords do not match"));case 3:return a.prev=3,f(""),g(!0),a.next=8,r(e.current.value,t.current.value);case 8:N.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),f("Failed to create an account");case 14:g(!1);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))).apply(this,arguments)}return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(d.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(O.jsxs)("div",{className:"w100",style:{maxWidth:"400px"},children:[Object(O.jsx)(p.a,{children:Object(O.jsxs)(p.a.Body,{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Add New User"}),i&&Object(O.jsx)(j.a,{variant:"danger",children:i}),Object(O.jsxs)(b.a,{onSubmit:function(e){return R.apply(this,arguments)},children:[Object(O.jsxs)(b.a.Group,{id:"email",children:[Object(O.jsx)(b.a.Label,{children:"Email"}),Object(O.jsx)(b.a.Control,{type:"email",ref:e,required:!0})]}),Object(O.jsxs)(b.a.Group,{id:"password",children:[Object(O.jsx)(b.a.Label,{children:"Password"}),Object(O.jsx)(b.a.Control,{type:"password",ref:t,required:!0})]}),Object(O.jsxs)(b.a.Group,{id:"password-confirm",children:[Object(O.jsx)(b.a.Label,{children:"Password Confirmation"}),Object(O.jsx)(b.a.Control,{type:"password",ref:n,required:!0})]}),Object(O.jsx)(h.a,{disabled:E,className:"w-100 mt-4",type:"submit",children:"Add New User"})]})]})}),Object(O.jsx)("div",{className:"w-100 text-center mt-2",children:Object(O.jsx)(C.b,{to:"/",children:"Cancel"})})]})})})}var R=n(136),S=n(135),_=n(132),w=n(73),A=n(9),T=n.n(A),P=n(58),I=n.n(P),k="https://sy-custom-api-web-app.ts.r.appspot.com";function F(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(l.a.mark((function e(t,n,a){var r,s,c,i,o,u,d,p,j,b,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,s=null,c=null,i=null,"Geotechnical"!==n){e.next=11;break}return e.next=7,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='Engineering' and '"+t[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){r=e.data}));case 7:return e.next=9,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='"+n+"' and '"+r[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){r=e.data}));case 9:e.next=13;break;case 11:return e.next=13,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='"+n+"' and '"+t[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){r=e.data}));case 13:if("Photos"===n){e.next=16;break}return e.next=16,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='Received' and '"+r[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){r=e.data}));case 16:return e.next=18,T.a.post(k+"/listChildrenFolders",{q:"mimeType='application/vnd.google-apps.folder' and '"+r[0].id+"' in parents",fields:"nextPageToken, files(id, name)",spaces:"drive",pageToken:i}).then((function(e){s=e.data}));case 18:if(o="",0!==(u=s.files.sort((function(e,t){return e.name>t.name?1:-1}))).length){e.next=24;break}o="00",e.next=27;break;case 24:return e.next=26,u[u.length-1].name.toString();case 26:o=e.sent;case 27:return e.next=29,I()().format("DD MMMM YYYY").toLocaleString();case 29:return d=e.sent,e.next=32,Number(o.substring(0,2));case 32:return p=e.sent,e.next=35,p++;case 35:if(1!==p.toString().length){e.next=41;break}return e.next=38,"0";case 38:e.t0=e.sent,e.t1=p,p=e.t0+e.t1;case 41:return e.next=43,p;case 43:return e.t2=e.sent,e.t3=e.t2+" - ",e.t4=d,j=e.t3+e.t4,e.next=49,T.a.post(k+"/createFolder",{name:j,parents:[r[0].id],mimeType:"application/vnd.google-apps.folder"}).then((function(e){c=e.data.id}));case 49:b=0;case 50:if(!(b<a.length)){e.next=67;break}return h=new FormData,e.next=54,h.append("file",a[b]);case 54:return e.next=56,h.append("id",c);case 56:return e.prev=56,e.next=59,T.a.post(k+"/uploadFile",h,{headers:{"Content-Type":"multipart/form-data"}});case 59:e.next=64;break;case 61:e.prev=61,e.t5=e.catch(56),e.t5.response.status;case 64:b++,e.next=50;break;case 67:return e.abrupt("return",[c,j]);case 68:case"end":return e.stop()}}),e,null,[[56,61]])})))).apply(this,arguments)}function G(e,t){return U.apply(this,arguments)}function U(){return(U=Object(o.a)(l.a.mark((function e(t,n){var a,r,s,c,i,o,u,d,p,j,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,r=null,s=null,c=null,e.next=6,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='CAD' and '"+t[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){a=e.data}));case 6:return e.next=8,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='SY' and '"+a[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){a=e.data}));case 8:return e.next=10,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='Issued' and '"+a[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){a=e.data}));case 10:return e.next=12,T.a.post(k+"/listChildrenFolders",{q:"mimeType='application/vnd.google-apps.folder' and '"+a[0].id+"' in parents",fields:"nextPageToken, files(id, name)",spaces:"drive",pageToken:c}).then((function(e){r=e.data}));case 12:if(i="",0!==(o=r.files.sort((function(e,t){return e.name>t.name?1:-1}))).length){e.next=18;break}i="00",e.next=21;break;case 18:return e.next=20,o[o.length-1].name.toString();case 20:i=e.sent;case 21:return e.next=23,I()().format("DD MMMM YYYY").toLocaleString();case 23:return u=e.sent,e.next=26,Number(i.substring(0,2));case 26:return d=e.sent,e.next=29,d++;case 29:if(1!==d.toString().length){e.next=35;break}return e.next=32,"0";case 32:e.t0=e.sent,e.t1=d,d=e.t0+e.t1;case 35:return e.next=37,d;case 37:return e.t2=e.sent,e.t3=e.t2+" - ",e.t4=u,p=e.t3+e.t4,e.next=43,T.a.post(k+"/createFolder",{name:p,parents:[a[0].id],mimeType:"application/vnd.google-apps.folder"}).then((function(e){s=e.data.id}));case 43:j=0;case 44:if(!(j<n.length)){e.next=61;break}return b=new FormData,e.next=48,b.append("file",n[j]);case 48:return e.next=50,b.append("id",s);case 50:return e.prev=50,e.next=53,T.a.post(k+"/uploadFile",b,{headers:{"Content-Type":"multipart/form-data"}});case 53:e.next=58;break;case 55:e.prev=55,e.t5=e.catch(50),e.t5.response.status;case 58:j++,e.next=44;break;case 61:return e.abrupt("return",[s,p]);case 62:case"end":return e.stop()}}),e,null,[[50,55]])})))).apply(this,arguments)}function L(e,t){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(l.a.mark((function e(t,n){var a,r,s,c,i,o,u,d,p,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,r=null,s=null,c=null,e.next=6,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='CAD' and '"+t[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){a=e.data}));case 6:return e.next=8,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='SY' and '"+a[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){a=e.data}));case 8:return e.next=10,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='Current PDF' and '"+a[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){a=e.data}));case 10:return e.next=12,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='SS' and '"+a[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){c=e.data}));case 12:return e.next=14,T.a.post(k+"/listChildrenFolders",{q:"'"+a[0].id+"' in parents",fields:"nextPageToken, files(id, name)",spaces:"drive",pageToken:s}).then((function(e){r=e.data}));case 14:return i=[],o=[],e.next=18,r.files.forEach((function(e){for(var t=0;t<n.length;t++){var a=e.name.lastIndexOf("_");if(-1!==a){var r=e.name.substr(0,a),s=n[t].name.lastIndexOf("_");if(-1!==s)if(r===n[t].name.substr(0,s)){var c=e.name.substr(a+1),l=n[t].name.substr(s+1),u=c.lastIndexOf("."),d=l.lastIndexOf(".");if(c=c.substr(0,u),l=l.substr(0,d),!1===isNaN(l)&&!1===isNaN(c)){var p=Number(c);Number(l)>=p?i.push(e.id):o.push(t)}else if(!0===isNaN(l)&&!0===isNaN(c)){var j=Number(c.charCodeAt(0));Number(l.charCodeAt(0))>=j?i.push(e.id):o.push(t)}}}}}));case 18:u=0;case 19:if(!(u<i.length)){e.next=38;break}return d=new FormData,e.next=23,d.append("fileId",i[u]);case 23:return e.next=25,d.append("addParentId",c[0].id);case 25:return e.next=27,d.append("removeParentId",a[0].id);case 27:return e.prev=27,e.next=30,T.a.post(k+"/moveFile",d);case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(27),e.t0.response.status;case 35:u++,e.next=19;break;case 38:p=0;case 39:if(!(p<n.length)){e.next=57;break}if(o.includes(p)){e.next=54;break}return j=new FormData,e.next=44,j.append("file",n[p]);case 44:return e.next=46,j.append("id",a[0].id);case 46:return e.prev=46,e.next=49,T.a.post(k+"/uploadFile",j,{headers:{"Content-Type":"multipart/form-data"}});case 49:e.next=54;break;case 51:e.prev=51,e.t1=e.catch(46),e.t1.response.status;case 54:p++,e.next=39;break;case 57:case"end":return e.stop()}}),e,null,[[27,32],[46,51]])})))).apply(this,arguments)}function M(e,t){return W.apply(this,arguments)}function W(){return(W=Object(o.a)(l.a.mark((function e(t,n){var a,r,s,c,i,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,r=null,s=null,c=null,e.next=6,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='CAD' and '"+t[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){a=e.data}));case 6:return e.next=8,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='SY' and '"+a[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){a=e.data}));case 8:return e.next=10,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='Current PDF' and '"+a[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){a=e.data}));case 10:return e.next=12,T.a.post(k+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='SS' and '"+a[0].id+"' in parents",fields:"files(name,id)"}).then((function(e){c=e.data}));case 12:return e.next=14,T.a.post(k+"/listChildrenFolders",{q:"'"+a[0].id+"' in parents",fields:"nextPageToken, files(id, name)",spaces:"drive",pageToken:s}).then((function(e){r=e.data}));case 14:return i=[],e.next=17,r.files.forEach((function(e){var t=e.name.lastIndexOf(".");if(-1!==t)for(var a=e.name.substr(0,t),r=0;r<n.length&&a!==n[r];r++)r===n.length-1&&i.push(e.id)}));case 17:o=0;case 18:if(!(o<i.length)){e.next=37;break}return u=new FormData,e.next=22,u.append("fileId",i[o]);case 22:return e.next=24,u.append("addParentId",c[0].id);case 24:return e.next=26,u.append("removeParentId",a[0].id);case 26:return e.prev=26,e.next=29,T.a.post(k+"/moveFile",u);case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(26),e.t0.response.status;case 34:o++,e.next=18;break;case 37:case"end":return e.stop()}}),e,null,[[26,31]])})))).apply(this,arguments)}var Y=n(34),J=n(74),K=n(75),H=n(80),q=n(79),V=(n(69),n(133)),z=function(e){Object(H.a)(n,e);var t=Object(q.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"handleSubmit",value:function(){var e=Object(o.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===t.target.Remark.value){e.next=4;break}return e.next=4,this.renameID(n,a,t.target.Remark.value);case 4:return e.next=6,null;case 6:t.target.Remark.value=e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"renameID",value:function(e,t,n){T.a.post("https://sy-custom-api-web-app.ts.r.appspot.com/renameID",{name:t+" - "+n,fileId:e})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(V.a,Object(Y.a)(Object(Y.a)({},this.props),{},{backdrop:"static",keyboard:"false",children:[Object(O.jsx)(V.a.Header,{children:Object(O.jsx)(V.a.Title,{children:"Add remark/description for uploaded files"})}),Object(O.jsxs)(b.a,{onSubmit:function(t){e.handleSubmit(t,e.props.remarkdata[0],e.props.remarkdata[1])},children:[Object(O.jsx)(V.a.Body,{children:Object(O.jsx)(d.a,{children:Object(O.jsxs)(b.a.Group,{className:"mb-2",id:"job-number",children:[Object(O.jsx)(b.a.Label,{className:"mb-0",children:"REMARK/DESCRIPTION"}),Object(O.jsx)(b.a.Control,{type:"text",name:"Remark",placeholder:"Remark goes here"})]})})}),Object(O.jsxs)(V.a.Footer,{children:[Object(O.jsx)(h.a,{variant:"secondary",onClick:this.props.onHide,children:"No Remark"}),Object(O.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.props.onHide,children:"Add Remark"})]})]})]}))}}]),n}(a.Component),Q=n(77),Z=n.n(Q),X=n(59);function $(){var e="https://sy-custom-api-web-app.ts.r.appspot.com",t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=(n[0],n[1],Object(a.useState)([])),s=Object(u.a)(r,2),c=(s[0],s[1],Object(a.useState)("")),i=Object(u.a)(c,2);i[0],i[1];Object(a.useEffect)((function(){console.log("FWNhDQ2CytPDYva8h3oeh7hXwJSYV75bTEjGsQtCnQlZ8RUM8DNST4YmweZm0GuF"),fetch("https://api.projectworksapp.com/api/v1.0/Projects",{headers:{Authorization:"Basic "+"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAw4DJ6nlrv2x_ilJUwpswoef3hJ2AorIo",REACT_APP_FIREBASE_APP_ID:"1:198812450568:web:4995488f56e887a48f36bd",REACT_APP_FIREBASE_AUTH_DOMAIN:"sy-auth-production-f970d.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"198812450568",REACT_APP_FIREBASE_PROJECT_ID:"sy-auth-production-f970d",REACT_APP_FIREBASE_STORAGE_BUCKET:"sy-auth-production-f970d.appspot.com",REACT_APP_GOOGLE_DRIVE_API_KEY:"AIzaSyCIcU7f2xGtPCRIcCsr4M0WPcyxBOalwSE",REACT_APP_GOOGLE_DRIVE_CLIENT_ID:"597531148432-gi46mddcc0uk1jipcddd8li3ue7ha0s2.apps.googleusercontent.com",REACT_APP_PROJECTWORKS_API_CONSUMER_KEY:"FWNhDQ2CytPDYva8h3oeh7hXwJSYV75bTEjGsQtCnQlZ8RUM8DNST4YmweZm0GuF",REACT_APP_PROJECTWORKS_API_CONSUMER_SECRET:"ZTczODIxOWItNWEyNy00MmMwLWI4MmYtZjhiOGFiNTY3MzMy"}).PROJECTWORKS_API_CONSUMER_KEY,":").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAw4DJ6nlrv2x_ilJUwpswoef3hJ2AorIo",REACT_APP_FIREBASE_APP_ID:"1:198812450568:web:4995488f56e887a48f36bd",REACT_APP_FIREBASE_AUTH_DOMAIN:"sy-auth-production-f970d.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"198812450568",REACT_APP_FIREBASE_PROJECT_ID:"sy-auth-production-f970d",REACT_APP_FIREBASE_STORAGE_BUCKET:"sy-auth-production-f970d.appspot.com",REACT_APP_GOOGLE_DRIVE_API_KEY:"AIzaSyCIcU7f2xGtPCRIcCsr4M0WPcyxBOalwSE",REACT_APP_GOOGLE_DRIVE_CLIENT_ID:"597531148432-gi46mddcc0uk1jipcddd8li3ue7ha0s2.apps.googleusercontent.com",REACT_APP_PROJECTWORKS_API_CONSUMER_KEY:"FWNhDQ2CytPDYva8h3oeh7hXwJSYV75bTEjGsQtCnQlZ8RUM8DNST4YmweZm0GuF",REACT_APP_PROJECTWORKS_API_CONSUMER_SECRET:"ZTczODIxOWItNWEyNy00MmMwLWI4MmYtZjhiOGFiNTY3MzMy"}).PROJECTWORKS_API_CONSUMER_SECRET)}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}),[]);var f=Object(a.useState)(!1),x=Object(u.a)(f,2),m=x[0],E=x[1],g=Object(a.useState)(""),N=Object(u.a)(g,2),A=N[0],P=N[1],I=v(),k=(I.currentUser,I.logout),D=Object(y.g)();function U(){return(U=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(""),e.prev=1,e.next=4,k();case 4:D.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),P("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var B=Object(a.useRef)(null),W=Object(a.useRef)(null),Y=Object(a.useRef)(null),J=Object(a.useState)(null),K=Object(u.a)(J,2),H=K[0],q=K[1];function V(){return(V=Object(o.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.post(e+"/getFolder",{q:"mimeType='application/vnd.google-apps.folder' and name='"+n+"'",fields:"files(name,id)"}).then(function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data;case 2:return n=e.sent,e.next=5,q(n);case 5:if(null!==n&&0!==n.length){e.next=12;break}return e.next=8,je(!1);case 8:se("No job was found with that number"),oe(!0),e.next=18;break;case 12:return e.next=14,oe(!1);case 14:return e.next=16,te("Job "+n[0].name+" selected");case 16:return e.next=18,je(!0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Q=Object(a.useState)(""),$=Object(u.a)(Q,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ae=Object(u.a)(ne,2),re=ae[0],se=ae[1],ce=Object(a.useState)(!1),ie=Object(u.a)(ce,2),le=ie[0],oe=ie[1],ue=Object(a.useState)(!1),de=Object(u.a)(ue,2),pe=de[0],je=de[1],be=Object(a.useState)(""),he=Object(u.a)(be,2),fe=he[0],xe=he[1];function me(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(o.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==H&&0!==H.length){e.next=6;break}return se("No job selected. Please select a job before attempting to upload a file."),oe(!0),e.abrupt("return");case 6:return e.next=8,je(!1);case 8:return e.next=10,E(!0);case 10:return e.t0=xe,e.next=13,F(H,t,n);case 13:return e.t1=e.sent,e.next=16,(0,e.t0)(e.t1);case 16:return e.next=18,Ye();case 18:return e.next=20,E(!1);case 20:return e.next=22,oe(!1);case 22:return e.next=24,te("Successfully uploaded "+n.length+" files");case 24:return e.next=26,je(!0);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==H&&0!==H.length){e.next=6;break}return se("No job selected. Please select a job before attempting to upload a file."),oe(!0),e.abrupt("return");case 6:return e.next=8,je(!1);case 8:return e.next=10,E(!0);case 10:return e.t0=xe,e.next=13,G(H,t);case 13:return e.t1=e.sent,e.next=16,(0,e.t0)(e.t1);case 16:return e.next=18,L(H,t);case 18:return e.next=20,Ye();case 20:return e.next=22,E(!1);case 22:return e.next=24,oe(!1);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=[];function ye(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(o.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==H&&0!==H.length){e.next=6;break}return se("No job selected. Please select a job before attempting to upload a file."),oe(!0),e.abrupt("return");case 6:return e.next=8,je(!1);case 8:return e.next=10,E(!0);case 10:return e.next=12,Ne(t);case 12:return e.t0=M,e.t1=H,e.next=16,Se(ge);case 16:return e.t2=e.sent,e.next=19,(0,e.t0)(e.t1,e.t2);case 19:return e.next=21,E(!1);case 21:return e.next=23,oe(!1);case 23:return e.next=25,te("Successfully uploaded "+n.length+" files");case 25:return e.next=27,je(!0);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(){var e=Object(o.a)(l.a.mark((function e(n,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).readAsArrayBuffer(t),r.onload=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r,s,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.result,r=X.read(a,{type:"buffer"}),s=r.SheetNames[0],c=r.Sheets[s],i=X.utils.sheet_to_json(c),n(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onerror=function(e){a(e)};case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,n.then(function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ge=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(o.a)(l.a.mark((function e(t){var n,a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],a=0;a<t.length;a++)r=Object.values(t[a]),s=H[0].name+"_"+r[0]+"_"+r[1]+"_"+r[2],n.push(s);return ge=[],e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var we=Object(a.useRef)();var Ae=Object(a.useState)(""),Te=Object(u.a)(Ae,2),Pe=Te[0],Ie=Te[1];function ke(){return(ke=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.target.files[0]){e.next=5;break}if(""===Pe){e.next=5;break}return e.next=4,me(Pe,t.target.files);case 4:Ie("");case 5:t.target.value=null;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fe=[];function De(){return(De=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.target.files[0]){e.next=16;break}return e.next=3,[];case 3:Fe=e.sent,n=0;case 5:if(!(n<t.target.files.length)){e.next=11;break}return e.next=8,Fe.push(t.target.files[n]);case 8:n++,e.next=5;break;case 11:return e.next=13,null;case 13:return t.target.value=e.sent,e.next=16,document.getElementById("liveReadXlsxFile").click();case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.target.files[0]){e.next=6;break}return console.log(Fe),e.next=4,Ee(Fe);case 4:return e.next=6,ye(t.target.files[0],Fe);case 6:return e.next=8,[];case 8:Fe=e.sent,t.target.value=null;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){B.current.click()}var Le=Object(a.useState)(!1),Be=Object(u.a)(Le,2),Me=Be[0],We=Be[1],Ye=function(){return We(!0)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{show:Me,onHide:function(){return We(!1)},remarkdata:fe}),Object(O.jsx)(R.a,{className:"",style:{minHeight:"7vh"},children:Object(O.jsxs)(d.a,{style:{minWidth:"97vw"},children:[Object(O.jsxs)(R.a.Brand,{children:[Object(O.jsx)("img",{alt:"",src:"https://systructures.com.au/wp-content/uploads/2020/05/sy-logo.png",className:"d-inline-block align-top"})," "]}),Object(O.jsxs)(S.a,{className:"mr-auto",children:[Object(O.jsx)(S.a.Link,{href:"/update-profile",children:"Update Profile"}),Object(O.jsx)(S.a.Link,{href:"/signup",children:"Add New User"}),Object(O.jsx)(C.b,{style:{backgroundColor:"#666666",color:"#FFFFFF"},onClick:function(){return U.apply(this,arguments)},className:"btn pull-right",children:"Log Out"})]})]})}),Object(O.jsxs)(j.a,{show:pe,variant:"success",className:"d-flex align-items-center justify-content-between flex-row",children:[ee,Object(O.jsx)(h.a,{onClick:function(){return je(!1)},variant:"outline-success",children:"Close"})]}),Object(O.jsxs)(j.a,{show:le,variant:"danger",className:"d-flex align-items-center justify-content-between flex-row",children:[re,Object(O.jsx)(h.a,{onClick:function(){return oe(!1)},variant:"outline-danger",children:"Close"})]}),m?Object(O.jsxs)("div",{style:{height:"93vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(O.jsx)(Z.a,{color:"#8B0000",loading:m,size:150}),Object(O.jsx)("h5",{className:"mt-4",children:"Files are being uploaded - this process may take a while"}),Object(O.jsx)("h5",{children:"Please do not close tab or browser"})]}):Object(O.jsxs)(d.a,{fluid:!0,children:[Object(O.jsxs)(_.a,{style:{height:"25vh"},className:"mb-4",children:[Object(O.jsx)(w.a,{xs:3,className:"d-flex align-items-start justify-content-center mt-2",children:Object(O.jsxs)(p.a,{style:{minHeight:"90%",borderRadius:"20px",backgroundColor:"#810B0A",borderColor:"lightgray"},className:"w-75 m-2",children:[Object(O.jsx)(d.a,{style:{color:"#FFF"},className:"mt-3 text-center border-bottom",children:Object(O.jsx)("h4",{children:"CREATE NEW JOB"})}),Object(O.jsx)(p.a.Body,{style:{backgroundColor:"white",borderBottomLeftRadius:"18px",borderBottomRightRadius:"18px"},className:"d-flex align-items-center justify-content-center",children:Object(O.jsx)(h.a,{className:"w-50",variant:"outline-dark",type:"submit",disabled:!0,children:"CREATE"})})]})}),Object(O.jsx)(w.a,{xs:6,className:"align-middle mt-2",children:Object(O.jsxs)(p.a,{style:{minHeight:"90%",borderRadius:"20px",backgroundColor:"#810B0A",borderColor:"lightgray"},className:"m-2",children:[Object(O.jsx)(d.a,{style:{color:"#FFF"},className:"mt-3 text-center border-bottom",children:Object(O.jsx)("h4",{children:"SELECT JOB"})}),Object(O.jsx)(p.a.Body,{style:{backgroundColor:"white",borderBottomLeftRadius:"18px",borderBottomRightRadius:"18px"},children:Object(O.jsxs)(b.a,{className:"d-flex align-items-center justify-content-center flex-row",onSubmit:function(e){e.preventDefault(),function(e){V.apply(this,arguments)}(we.current.value)},children:[Object(O.jsxs)(d.a,{children:[Object(O.jsxs)(b.a.Group,{id:"job-number",children:[Object(O.jsx)(b.a.Label,{className:"mb-0",children:"JOB NUMBER"}),Object(O.jsx)(b.a.Control,{type:"text",placeholder:"Enter Job #",ref:we,required:!0})]}),Object(O.jsx)(h.a,{className:"w-100 mt-3 mb-2",variant:"outline-dark",type:"submit",children:"SELECT"})]}),Object(O.jsxs)(d.a,{className:"text-center",children:[Object(O.jsx)("div",{children:"CURRENT JOB"})," ",null===H||0===H.length?"No Job Selected":H[0].name]})]})}),A&&Object(O.jsx)(j.a,{variant:"danger",children:A})]})}),Object(O.jsxs)(w.a,{className:"d-flex align-items-center flex-column justify-content-evenly",children:[Object(O.jsx)("input",{type:"file",onChange:function(e){return De.apply(this,arguments)},ref:W,style:{display:"none"},accept:".pdf",multiple:!0}),Object(O.jsx)(h.a,{className:"w-50",variant:"outline-dark",onClick:function(){W.current.click()},children:"ISSUE SY DOCUMENT/S"}),Object(O.jsx)("input",{type:"file",onChange:function(e){return Ge.apply(this,arguments)},ref:Y,style:{display:"none"},accept:".xlsx, .xls, .csv",id:"liveReadXlsxFile"}),Object(O.jsx)(h.a,{className:"w-50",variant:"outline-dark",onClick:function(){Y.current.click()},style:{display:"none"},children:"CLEAN CURRENT PDF (EXCEL)"})]})]}),Object(O.jsxs)(_.a,{style:{height:"34vh"},children:[Object(O.jsxs)(w.a,{children:[Object(O.jsx)(d.a,{className:"text-center",style:{height:"10%"},children:Object(O.jsx)("h5",{children:"SAVE RECEIVED DOCUMENTS"})}),Object(O.jsxs)(d.a,{className:"d-flex align-items-center flex-column justify-content-evenly",style:{height:"80% "},children:[Object(O.jsx)("input",{type:"file",onChange:function(e){return ke.apply(this,arguments)},ref:B,style:{display:"none"},multiple:!0}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",onClick:function(){Ie("CAD"),Ue()},children:"CAD"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",onClick:function(){Ie("Photos"),Ue()},children:"PHOTOS"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",onClick:function(){Ie("Shop Drawings"),Ue()},children:"SHOP DRAWINGS"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",onClick:function(){Ie("Geotechnical"),Ue()},children:"GEOTECHNICAL"})]})]}),Object(O.jsxs)(w.a,{children:[Object(O.jsx)(d.a,{className:"text-center",style:{height:"10%"},children:Object(O.jsx)("h5",{children:"ADMIN DOCUMENTS"})}),Object(O.jsxs)(d.a,{className:"d-flex align-items-center flex-column justify-content-evenly",style:{height:"80% "},children:[Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"FEE PROPOSAL"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"FEE VARIATION"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"LETTER"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"REPORT"})]})]}),Object(O.jsxs)(w.a,{children:[Object(O.jsx)(d.a,{className:"text-center",style:{height:"10%"},children:Object(O.jsx)("h5",{children:"CONCEPT"})}),Object(O.jsxs)(d.a,{className:"d-flex align-items-center flex-column justify-content-evenly",style:{height:"80% "},children:[Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"DESIGN BRIEF"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"GEOTECH FEE REQUEST"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"CONCEPT DESIGN CHECKLIST"})]})]}),Object(O.jsxs)(w.a,{children:[Object(O.jsx)(d.a,{className:"text-center",style:{height:"10%"},children:Object(O.jsx)("h5",{children:"DESIGN & DOCUMENTATION"})}),Object(O.jsxs)(d.a,{className:"d-flex align-items-center flex-column justify-content-evenly",style:{height:"80% "},children:[Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"SAFETY IN DESIGN REPORT"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"STRUCTURAL SPECIFICATIONS"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"CALCULATION DOCUMENT"})]})]})]}),Object(O.jsxs)(_.a,{style:{height:"34vh"},children:[Object(O.jsxs)(w.a,{children:[Object(O.jsx)(d.a,{className:"text-center",style:{height:"10%"},children:Object(O.jsx)("h5",{children:"CONSTRUCTION"})}),Object(O.jsxs)(d.a,{className:"d-flex align-items-center flex-column justify-content-evenly",style:{height:"80% "},children:[Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"SITE INSPECTION REPORT"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"LETTER OF COMPLIANCE"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"SHOP DRAWING REVIEW"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"CERTIFICATION LETTER"})]})]}),Object(O.jsxs)(w.a,{children:[Object(O.jsx)(d.a,{className:"text-center",style:{height:"10%"},children:Object(O.jsx)("h5",{children:"QA"})}),Object(O.jsxs)(d.a,{className:"d-flex align-items-center flex-column justify-content-evenly",style:{height:"80% "},children:[Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"VERIFY ENGINEERING CHECKLIST"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"VERIFY BIM CHECKLIST"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"VERIFY DRAWING REVIEW"}),Object(O.jsx)(h.a,{className:"w-100",variant:"outline-dark",type:"submit",disabled:!0,children:"VERIFY SAFETY IN DESIGN"})]})]}),Object(O.jsx)(w.a,{}),Object(O.jsx)(w.a,{})]})]})]})}function ee(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=v().login,r=Object(a.useState)(""),s=Object(u.a)(r,2),c=s[0],i=s[1],f=Object(a.useState)(!1),x=Object(u.a)(f,2),m=x[0],E=x[1],g=Object(y.g)();function N(){return(N=Object(o.a)(l.a.mark((function a(r){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,i(""),E(!0),a.next=6,n(e.current.value,t.current.value);case 6:g.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),i("Failed to log in");case 12:E(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))).apply(this,arguments)}return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(d.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(O.jsx)("div",{className:"w100",style:{maxWidth:"400px"},children:Object(O.jsx)(p.a,{children:Object(O.jsxs)(p.a.Body,{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),c&&Object(O.jsx)(j.a,{variant:"danger",children:c}),Object(O.jsxs)(b.a,{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(O.jsxs)(b.a.Group,{id:"email",children:[Object(O.jsx)(b.a.Label,{children:"Email"}),Object(O.jsx)(b.a.Control,{type:"email",ref:e,required:!0})]}),Object(O.jsxs)(b.a.Group,{id:"password",children:[Object(O.jsx)(b.a.Label,{children:"Password"}),Object(O.jsx)(b.a.Control,{type:"password",ref:t,required:!0})]}),Object(O.jsx)(h.a,{disabled:m,className:"w-100 mt-4",type:"submit",children:"Log In"})]}),Object(O.jsx)("div",{className:"w-100 text-center mt-3",children:Object(O.jsx)(C.b,{to:"/forgot-password",children:"Forgot Password?"})})]})})})})})}var te=n(78),ne=["component"];function ae(e){var t=e.component,n=Object(te.a)(e,ne),a=v().currentUser;return Object(O.jsx)(y.b,Object(Y.a)(Object(Y.a)({},n),{},{render:function(e){return a?Object(O.jsx)(t,Object(Y.a)({},e)):Object(O.jsx)(y.a,{to:"/login"})}}))}function re(){var e=Object(a.useRef)(),t=v().resetPassword,n=Object(a.useState)(""),r=Object(u.a)(n,2),s=r[0],c=r[1],i=Object(a.useState)(""),f=Object(u.a)(i,2),x=f[0],m=f[1],E=Object(a.useState)(!1),g=Object(u.a)(E,2),y=g[0],N=g[1];function R(){return(R=Object(o.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,m(""),c(""),N(!0),n.next=7,t(e.current.value);case 7:m("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),c("Failed to reset password");case 13:N(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(d.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(O.jsxs)("div",{className:"w100",style:{maxWidth:"400px"},children:[Object(O.jsx)(p.a,{children:Object(O.jsxs)(p.a.Body,{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),s&&Object(O.jsx)(j.a,{variant:"danger",children:s}),x&&Object(O.jsx)(j.a,{variant:"success",children:x}),Object(O.jsxs)(b.a,{onSubmit:function(e){return R.apply(this,arguments)},children:[Object(O.jsxs)(b.a.Group,{id:"email",children:[Object(O.jsx)(b.a.Label,{children:"Email"}),Object(O.jsx)(b.a.Control,{type:"email",ref:e,required:!0})]}),Object(O.jsx)(h.a,{disabled:y,className:"w-100 mt-4",type:"submit",children:"Reset Password"})]}),Object(O.jsx)("div",{className:"w-100 text-center mt-3",children:Object(O.jsx)(C.b,{to:"/login",children:"Login"})})]})}),Object(O.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(O.jsx)(C.b,{to:"/signup",children:"Sign Up"})]})]})})})}function se(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=v(),s=r.currentUser,c=r.updateEmail,i=r.updatePassword,l=Object(a.useState)(""),o=Object(u.a)(l,2),f=o[0],x=o[1],m=Object(a.useState)(!1),E=Object(u.a)(m,2),g=E[0],N=E[1],R=Object(y.g)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(d.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(O.jsxs)("div",{className:"w100",style:{maxWidth:"400px"},children:[Object(O.jsx)(p.a,{children:Object(O.jsxs)(p.a.Body,{children:[Object(O.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),f&&Object(O.jsx)(j.a,{variant:"danger",children:f}),Object(O.jsxs)(b.a,{onSubmit:function(a){if(a.preventDefault(),t.current.value!==n.current.value)return x("Passwords do not match");var r=[];x(""),N(!0),e.current.value!==s.email&&r.push(c(e.current.value)),t.current.value&&r.push(i(t.current.value)),Promise.all(r).then((function(){R.push("/")})).catch((function(){x("Failed to update account")})).finally((function(){N(!1)}))},children:[Object(O.jsxs)(b.a.Group,{id:"email",children:[Object(O.jsx)(b.a.Label,{children:"Email"}),Object(O.jsx)(b.a.Control,{type:"email",ref:e,required:!0,defaultValue:s.email})]}),Object(O.jsxs)(b.a.Group,{id:"password",children:[Object(O.jsx)(b.a.Label,{children:"Password"}),Object(O.jsx)(b.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(O.jsxs)(b.a.Group,{id:"password-confirm",children:[Object(O.jsx)(b.a.Label,{children:"Password Confirmation"}),Object(O.jsx)(b.a.Control,{type:"password",ref:n,placeholder:"Leave blank to keep the same"})]}),Object(O.jsx)(h.a,{disabled:g,className:"w-100 mt-4",type:"submit",children:"Update"})]})]})}),Object(O.jsx)("div",{className:"w-100 text-center mt-2",children:Object(O.jsx)(C.b,{to:"/",children:"Cancel"})})]})})})}var ce=function(){return Object(O.jsx)("div",{children:Object(O.jsx)(C.a,{children:Object(O.jsx)(g,{children:Object(O.jsxs)(y.d,{children:[Object(O.jsx)(ae,{exact:!0,path:"/",component:$}),Object(O.jsx)(ae,{path:"/update-profile",component:se}),Object(O.jsx)(ae,{path:"/signup",component:N}),Object(O.jsx)(y.b,{path:"/login",component:ee}),Object(O.jsx)(y.b,{path:"/forgot-password",component:re})]})})})})};c.a.render(Object(O.jsx)(ce,{}),document.getElementById("root"))},71:function(e,t){}},[[127,1,2]]]);
//# sourceMappingURL=main.f990c9ab.chunk.js.map